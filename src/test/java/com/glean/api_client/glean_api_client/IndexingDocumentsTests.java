/* 
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */
package com.glean.api_client.glean_api_client;

import static org.junit.jupiter.api.Assertions.assertEquals;

import com.glean.api_client.glean_api_client.models.components.BulkIndexDocumentsRequest;
import com.glean.api_client.glean_api_client.models.components.DeleteDocumentRequest;
import com.glean.api_client.glean_api_client.models.components.DocumentDefinition;
import com.glean.api_client.glean_api_client.models.components.IndexDocumentRequest;
import com.glean.api_client.glean_api_client.models.components.IndexDocumentsRequest;
import com.glean.api_client.glean_api_client.models.operations.PostApiIndexV1BulkindexdocumentsResponse;
import com.glean.api_client.glean_api_client.models.operations.PostApiIndexV1DeletedocumentResponse;
import com.glean.api_client.glean_api_client.models.operations.PostApiIndexV1IndexdocumentResponse;
import com.glean.api_client.glean_api_client.models.operations.PostApiIndexV1IndexdocumentsResponse;
import com.glean.api_client.glean_api_client.models.operations.PostApiIndexV1ProcessalldocumentsResponse;
import com.glean.api_client.glean_api_client.utils.Utils;
import java.lang.Exception;
import java.util.List;
import org.junit.jupiter.api.Test;

public class IndexingDocumentsTests {

    @Test
    public void testIndexingDocuments_PostApiIndexV1Indexdocument() throws Exception {

        var testHttpClient = Utils.createTestHTTPClient("post_/api/index/v1/indexdocument");
        Glean sdk = Glean.builder()
                .serverURL(Utils.environmentVariable("TEST_SERVER_URL", "http://localhost:18080"))
                .client(testHttpClient)
                .apiToken("<YOUR_BEARER_TOKEN_HERE>")
            .build();

        IndexDocumentRequest req = IndexDocumentRequest.builder()
                .document(DocumentDefinition.builder()
                    .datasource("<value>")
                    .build())
                .build();

        PostApiIndexV1IndexdocumentResponse res = sdk.indexing().documents().addOrUpdate()
                .request(req)
                .call();
        assertEquals(200, res.statusCode());
    }

    @Test
    public void testIndexingDocuments_PostApiIndexV1Indexdocuments() throws Exception {

        var testHttpClient = Utils.createTestHTTPClient("post_/api/index/v1/indexdocuments");
        Glean sdk = Glean.builder()
                .serverURL(Utils.environmentVariable("TEST_SERVER_URL", "http://localhost:18080"))
                .client(testHttpClient)
                .apiToken("<YOUR_BEARER_TOKEN_HERE>")
            .build();

        IndexDocumentsRequest req = IndexDocumentsRequest.builder()
                .datasource("<value>")
                .documents(List.of(
                    DocumentDefinition.builder()
                        .datasource("<value>")
                        .build()))
                .build();

        PostApiIndexV1IndexdocumentsResponse res = sdk.indexing().documents().index()
                .request(req)
                .call();
        assertEquals(200, res.statusCode());
    }

    @Test
    public void testIndexingDocuments_PostApiIndexV1Bulkindexdocuments() throws Exception {

        var testHttpClient = Utils.createTestHTTPClient("post_/api/index/v1/bulkindexdocuments");
        Glean sdk = Glean.builder()
                .serverURL(Utils.environmentVariable("TEST_SERVER_URL", "http://localhost:18080"))
                .client(testHttpClient)
                .apiToken("<YOUR_BEARER_TOKEN_HERE>")
            .build();

        BulkIndexDocumentsRequest req = BulkIndexDocumentsRequest.builder()
                .uploadId("<id>")
                .datasource("<value>")
                .documents(List.of(
                    DocumentDefinition.builder()
                        .datasource("<value>")
                        .build()))
                .build();

        PostApiIndexV1BulkindexdocumentsResponse res = sdk.indexing().documents().bulkIndex()
                .request(req)
                .call();
        assertEquals(200, res.statusCode());
    }

    @Test
    public void testIndexingDocuments_PostApiIndexV1Processalldocuments() throws Exception {

        var testHttpClient = Utils.createTestHTTPClient("post_/api/index/v1/processalldocuments");
        Glean sdk = Glean.builder()
                .serverURL(Utils.environmentVariable("TEST_SERVER_URL", "http://localhost:18080"))
                .client(testHttpClient)
                .apiToken("<YOUR_BEARER_TOKEN_HERE>")
            .build();

        PostApiIndexV1ProcessalldocumentsResponse res = sdk.indexing().documents().processAll()
                .call();
        assertEquals(200, res.statusCode());
    }

    @Test
    public void testIndexingDocuments_PostApiIndexV1Deletedocument() throws Exception {

        var testHttpClient = Utils.createTestHTTPClient("post_/api/index/v1/deletedocument");
        Glean sdk = Glean.builder()
                .serverURL(Utils.environmentVariable("TEST_SERVER_URL", "http://localhost:18080"))
                .client(testHttpClient)
                .apiToken("<YOUR_BEARER_TOKEN_HERE>")
            .build();

        DeleteDocumentRequest req = DeleteDocumentRequest.builder()
                .datasource("<value>")
                .objectType("<value>")
                .id("<id>")
                .build();

        PostApiIndexV1DeletedocumentResponse res = sdk.indexing().documents().delete()
                .request(req)
                .call();
        assertEquals(200, res.statusCode());
    }
}