/* 
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */
package com.glean.api_client.glean_api_client;

import static org.junit.jupiter.api.Assertions.assertEquals;

import com.glean.api_client.glean_api_client.models.components.ChatFile;
import com.glean.api_client.glean_api_client.models.components.File;
import com.glean.api_client.glean_api_client.models.components.UploadChatFilesRequest;
import com.glean.api_client.glean_api_client.models.components.UploadChatFilesResponse;
import com.glean.api_client.glean_api_client.models.operations.UploadchatfilesResponse;
import com.glean.api_client.glean_api_client.utils.Utils;
import java.lang.Exception;
import java.util.List;
import org.junit.jupiter.api.Test;

public class ChatTests {

    @Test
    public void testChat_Uploadchatfiles() throws Exception {

        var testHttpClient = Utils.createTestHTTPClient("uploadchatfiles");
        Glean sdk = Glean.builder()
                .serverURL(Utils.environmentVariable("TEST_SERVER_URL", "http://localhost:18080"))
                .client(testHttpClient)
                .apiToken("<YOUR_BEARER_TOKEN_HERE>")
            .build();

        UploadchatfilesResponse res = sdk.client().chat().uploadFiles()
                .uploadChatFilesRequest(UploadChatFilesRequest.builder()
                    .files(List.of(
                        File.builder()
                            .fileName("example.file")
                            .content(Utils.readBytes(".speakeasy/testfiles/example.file"))
                            .build()))
                    .build())
                .call();
        assertEquals(200, res.statusCode());
        assertEquals(
            UploadChatFilesResponse.builder()
            .files(List.of(
                ChatFile.builder()
                    .id("FILE_1234")
                    .url("www.google.com")
                    .name("sample.pdf")
                    .build(),
                ChatFile.builder()
                    .id("FILE_1234")
                    .url("www.google.com")
                    .name("sample.pdf")
                    .build(),
                ChatFile.builder()
                    .id("FILE_1234")
                    .url("www.google.com")
                    .name("sample.pdf")
                    .build()))
            .build(),
            res.uploadChatFilesResponse().get());
    }
}